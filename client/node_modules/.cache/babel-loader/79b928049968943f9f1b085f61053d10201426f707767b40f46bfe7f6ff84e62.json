{"ast":null,"code":"import React,{useEffect,useState}from'react';import'react-datepicker/dist/react-datepicker.css';import Header from'../pages/Header';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const DisplayRentals=_ref=>{let{list}=_ref;const[rental,setRental]=useState([]);const[isNotificationVisible,setIsNotificationVisible]=useState(false);const[notificationMessage,setNotificationMessage]=useState('');useEffect(()=>{fetch('http://127.0.0.1:5000/listings').then(response=>response.json()).then(data=>{console.log(data);setRental(data);}).catch(error=>{console.error('Error fetching property listings:',error);});},[]);const handleFavorite=listingId=>{const favoriteData={user_id:localStorage.id,listing_id:listingId};fetch('http://127.0.0.1:5000/favorites',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(favoriteData)}).then(response=>response.json()).then(data=>{setNotificationMessage('Rental was added to your favorites');setIsNotificationVisible(true);// Auto-hide the notification after 4 seconds\nsetTimeout(()=>{setIsNotificationVisible(false);},3000);console.log(data);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-semibold text-center\",children:\"All Rentals\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:rental.map(rental=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-lg rounded-lg overflow-hidden transform transition-transform hover:scale-105 p-4\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/rentals/\".concat(rental.id),children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold mb-2\",children:rental.title}),/*#__PURE__*/_jsx(\"img\",{src:rental.image_url,alt:\"rental property\",className:\"w-full h-48 object-cover mb-2\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-2\",children:[\"Description: \",rental.description]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-2\",children:[\"City: \",rental.city]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-2\",children:[\"State: \",rental.state]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-2\",children:[\"Price: \",rental.price]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFavorite(rental.id),className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",children:\"Add to Favorites\"})})]},rental.id))}),isNotificationVisible&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 m-4 p-4 bg-green-500 text-white rounded shadow text-center\",children:notificationMessage})]});};export default DisplayRentals;","map":{"version":3,"names":["React","useEffect","useState","Header","Link","jsx","_jsx","jsxs","_jsxs","DisplayRentals","_ref","list","rental","setRental","isNotificationVisible","setIsNotificationVisible","notificationMessage","setNotificationMessage","fetch","then","response","json","data","console","log","catch","error","handleFavorite","listingId","favoriteData","user_id","localStorage","id","listing_id","method","headers","body","JSON","stringify","setTimeout","className","children","map","to","concat","title","src","image_url","alt","description","city","state","price","onClick"],"sources":["/Users/baileybell/development/code/phase-5/AirBnBailey/client/src/components/DisplayRentals.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport Header from '../pages/Header';\nimport { Link } from 'react-router-dom';\n\nconst DisplayRentals = ({ list }) => {\n  const [rental, setRental] = useState([]);\n  const [isNotificationVisible, setIsNotificationVisible] = useState(false);\n  const [notificationMessage, setNotificationMessage] = useState('');\n\n  useEffect(() => {\n    fetch('http://127.0.0.1:5000/listings')\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data);\n        setRental(data);\n      })\n      .catch((error) => {\n        console.error('Error fetching property listings:', error);\n      });\n  }, []);\n\n  const handleFavorite = (listingId) => {\n    const favoriteData = {\n      user_id: localStorage.id,\n      listing_id: listingId,\n    };\n\n    fetch('http://127.0.0.1:5000/favorites', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(favoriteData),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        setNotificationMessage('Rental was added to your favorites');\n        setIsNotificationVisible(true);\n\n        // Auto-hide the notification after 4 seconds\n        setTimeout(() => {\n          setIsNotificationVisible(false);\n        }, 3000);\n\n        console.log(data);\n      });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      <Header />\n      <h1 className=\"text-3xl font-semibold text-center\">All Rentals</h1>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {rental.map((rental) => (\n          <div\n            key={rental.id}\n            className=\"bg-white shadow-lg rounded-lg overflow-hidden transform transition-transform hover:scale-105 p-4\"\n          >\n            <Link to={`/rentals/${rental.id}`}>\n              <h2 className=\"text-lg font-semibold mb-2\">{rental.title}</h2>\n              <img\n                src={rental.image_url}\n                alt=\"rental property\"\n                className=\"w-full h-48 object-cover mb-2\"\n              />\n            </Link>\n            <p className=\"text-gray-600 mb-2\">Description: {rental.description}</p>\n            <p className=\"text-gray-600 mb-2\">City: {rental.city}</p>\n            <p className=\"text-gray-600 mb-2\">State: {rental.state}</p>\n            <p className=\"text-gray-600 mb-2\">Price: {rental.price}</p>\n            <div>\n              <button\n                onClick={() => handleFavorite(rental.id)}\n                className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n              >\n                Add to Favorites\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n      \n      {isNotificationVisible && (\n        <div className=\"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 m-4 p-4 bg-green-500 text-white rounded shadow text-center\">\n          {notificationMessage}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DisplayRentals;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}